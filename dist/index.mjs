import*as e from"@actions/core";import{Color as t,colorize as n,execute as r,getTemplateAndParameters as i,parseConfig as a}from"@azure/bicep-deploy-common";var o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c,l,u,d,f,p,m=o((()=>{c=class{constructor(){this.getInput=t=>e.getInput(t)}},l=class{constructor(){this.setOutput=(t,n)=>e.setOutput(t,n),this.setFailed=t=>e.setFailed(t),this.setSecret=t=>e.setSecret(t)}},u=t=>e.warning(t),d=t=>e.error(t),f=class{constructor(){this.isDebugEnabled=()=>e.isDebug(),this.debug=t=>e.debug(t),this.logInfoRaw=t=>e.info(t),this.logInfo=e=>this.logInfoRaw(n(e,t.Blue)),this.logWarning=e=>u(n(e,t.Yellow)),this.logError=e=>d(n(e,t.Red))}},p=class{constructor(){this.type=`type`,this.name=`name`,this.location=`location`,this.templateFile=`template-file`,this.paramtersFile=`parameters-file`,this.parameters=`parameters`,this.bicepVersion=`bicep-version`,this.description=`description`,this.tags=`tags`,this.maskedOutputs=`masked-outputs`,this.environment=`environment`,this.operation=`operation`,this.whatIfExcludeChangeTypes=`what-if-exclude-change-types`,this.validationLevel=`validation-level`,this.actionOnUnmanageResources=`action-on-unmanage-resources`,this.actionOnUnmanageResourceGroups=`action-on-unmanage-resourcegroups`,this.actionOnUnmanageManagementGroups=`action-on-unmanage-managementgroups`,this.bypasStackOutOfSyncError=`bypass-stack-out-of-sync-error`,this.denySettingsMode=`deny-settings-mode`,this.denySettingsExcludedActions=`deny-settings-excluded-actions`,this.denySettingsExcludedPrincipals=`deny-settings-excluded-principals`,this.denySettingsApplyToChildScopes=`deny-settings-apply-to-child-scopes`,this.scope=`scope`,this.tenantId=`tenant-id`,this.managementGroupId=`management-group-id`,this.subscriptionId=`subscription-id`,this.resourceGroupName=`resource-group-name`}}}));async function h(){try{let e=a(new c,new p),t=new f,n=new l;t.logInfo(`Action config: ${JSON.stringify(e,null,2)}`),await r(e,await i(e,t),t,n)}catch(t){let n=t instanceof Error?t.message:`${t}`;e.setFailed(n)}}var g=o((()=>{m()})),_=s((()=>{g(),h()}));export default _();export{};
//# sourceMappingURL=index.mjs.map