var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},s=(n,r,a)=>(a=n==null?{}:e(i(n)),o(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));let c=require(`@actions/core`);c=s(c);let l=require(`@azure/bicep-deploy-common`);var u=class{constructor(){this.getInput=e=>c.getInput(e)}},d=class{constructor(){this.setOutput=(e,t)=>c.setOutput(e,t),this.setFailed=e=>c.setFailed(e),this.setSecret=e=>c.setSecret(e)}};const f=e=>c.warning(e),p=e=>c.error(e);var m=class{constructor(){this.isDebugEnabled=()=>c.isDebug(),this.debug=e=>c.debug(e),this.logInfoRaw=e=>c.info(e),this.logInfo=e=>this.logInfoRaw((0,l.colorize)(e,l.Color.Blue)),this.logWarning=e=>f((0,l.colorize)(e,l.Color.Yellow)),this.logError=e=>p((0,l.colorize)(e,l.Color.Red))}},h=class{constructor(){this.type=`type`,this.name=`name`,this.location=`location`,this.templateFile=`template-file`,this.paramtersFile=`parameters-file`,this.parameters=`parameters`,this.bicepVersion=`bicep-version`,this.description=`description`,this.tags=`tags`,this.maskedOutputs=`masked-outputs`,this.environment=`environment`,this.operation=`operation`,this.whatIfExcludeChangeTypes=`what-if-exclude-change-types`,this.validationLevel=`validation-level`,this.actionOnUnmanageResources=`action-on-unmanage-resources`,this.actionOnUnmanageResourceGroups=`action-on-unmanage-resourcegroups`,this.actionOnUnmanageManagementGroups=`action-on-unmanage-managementgroups`,this.bypasStackOutOfSyncError=`bypass-stack-out-of-sync-error`,this.denySettingsMode=`deny-settings-mode`,this.denySettingsExcludedActions=`deny-settings-excluded-actions`,this.denySettingsExcludedPrincipals=`deny-settings-excluded-principals`,this.denySettingsApplyToChildScopes=`deny-settings-apply-to-child-scopes`,this.scope=`scope`,this.tenantId=`tenant-id`,this.managementGroupId=`management-group-id`,this.subscriptionId=`subscription-id`,this.resourceGroupName=`resource-group-name`}};async function g(){try{let e=(0,l.parseConfig)(new u,new h),t=new m,n=new d;t.logInfo(`Action config: ${JSON.stringify(e,null,2)}`),await(0,l.execute)(e,await(0,l.getTemplateAndParameters)(e,t),t,n)}catch(e){let t=e instanceof Error?e.message:`${e}`;c.setFailed(t)}}g();
//# sourceMappingURL=index.cjs.map